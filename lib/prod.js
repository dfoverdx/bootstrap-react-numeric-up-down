"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var _JSXStyle=_interopDefault(require("styled-jsx/style")),React=require("react"),React__default=_interopDefault(React);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,a=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret;function emptyFunction(){}var factoryWithThrowingShims=function(){function e(e,t,r,n,a,o){if(o!==ReactPropTypesSecret_1){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=emptyFunction,r.PropTypes=r,r},propTypes=createCommonjsModule(function(e){e.exports=factoryWithThrowingShims()}),classnames=createCommonjsModule(function(e){!function(){var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var s=r.apply(null,a);s&&e.push(s)}else if("object"===o)for(var i in a)t.call(a,i)&&a[i]&&e.push(i)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r}()}),optionalRequire=require("optional-require")(require),reactFontAwesome=optionalRequire("@fortawesome/react-fontawesome"),core=optionalRequire("@fortawesome/fontawesome-svg-core"),fas=optionalRequire("@fortawesome/free-solid-svg-icons"),FontAwesomeIcon=reactFontAwesome&&reactFontAwesome.FontAwesomeIcon,faMinusCircle=fas&&fas.faMinusCircle,faPlusCircle=fas&&fas.faPlusCircle;core&&core.library.add(fas.faMinusCircle,fas.faPlusCircle);var IconDefElTypes=[Number,Number,function(e){return Array.isArray(e)&&e.every(function(e){return e&&e.constructor===String})},String,String];function mightBeFAIcon(e){if(!e)return!1;if(e.constructor===String)return/^[a-z0-9][a-z0-9\-]*$/i.test(e);if(Array.isArray(e))return e.every(function(e){return e.constructor===String});if(!(e instanceof Object&&e.iconName))return!1;switch(e.prefix){case"fas":case"far":case"fab":break;default:return!1}var t=e.icon;return!(!Array.isArray(t)||5!==t.length)&&t.every(function(e,t){return 2===t?IconDefElTypes[2](e):e&&e.constructor===IconDefElTypes[t]})}var iconDefinitionPropType=propTypes.oneOfType([propTypes.string,propTypes.arrayOf(propTypes.string),propTypes.element,propTypes.shape({prefix:propTypes.oneOf(["fas","fab","far","fal"]).isRequired,iconName:propTypes.string.isRequired,icon:propTypes.array})]),NumericUpDown=function(e){function t(e){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).input=React__default.createRef(),r.recursiveUpdates=0,r.state={targetValue:null},r._incrementValue=r._incrementValue.bind(_assertThisInitialized(_assertThisInitialized(r))),r._decrementValue=r._decrementValue.bind(_assertThisInitialized(_assertThisInitialized(r))),r}return _inherits(t,React.PureComponent),_createClass(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.min,n=t.max,a=t.value,o=e.min,s=e.max,i=e.value,l=this.state.targetValue;null!==l&&(a!==i&&0===this.recursiveUpdates?this.setState({targetValue:null}):(r!==o&&r<=l&&o>l||n!==s&&n>=l&&s<l)&&(this._updateValue(l),this.setState({targetValue:null}))),i!=a||s===n&&o===r||(null===l&&(r>i||n<i)&&this.setState({targetValue:i}),o!==r&&r>=l?this._updateValue(Math.min(r,n)):s!==n&&n<=l?this._updateValue(Math.max(n,r)):o>s&&(r<=a||n>=a)&&(a<r?this._updateValue(r):this._updateValue(n)))}},{key:"_updateValue",value:function(e){e!==this.props.value&&(this.props.onChange?(this.recursiveUpdates++,this.props.onChange(e),this.recursiveUpdates--):void 0===this.props.value&&(this.input.current.value=e))}},{key:"_incrementValue",value:function(){this.props.disabled||(this.setState({targetValue:null}),this._updateValue(Math.min(this.props.max,this.props.value+this.props.step)))}},{key:"_decrementValue",value:function(){this.props.disabled||(this.setState({targetValue:null}),this._updateValue(Math.max(this.props.min,this.props.value-this.props.step)))}},{key:"render",value:function(){var e=this.props,t=e.iconColor,r=e.inputColor,n=e.className,a=e.minusIcon,o=e.plusIcon,s=(e.inputAlign,e.allowManualInputWithNaNBounds),i=_objectWithoutProperties(e,["iconColor","inputColor","className","minusIcon","plusIcon","inputAlign","allowManualInputWithNaNBounds"]),l=i.value,c=i.min,u=i.max,p=i.disabled,f=getIconStyles(),m=f.className,y=f.styles,d=[m,t&&"text-".concat(t)],_=["d-flex","flex-nowrap","flex-row","align-items-center","numeric-up-down",p&&"disabled",n];!s&&c>u&&(i.disabled=p=!0);var h=["minus-icon",(l<=c||p)&&"disabled"].concat(d),b=["plus-icon",(l>=u||p)&&"disabled"].concat(d);if(React__default.isValidElement(a)){var g={className:classnames.apply(void 0,[a.props.className].concat(_toConsumableArray(h)))};a=React__default.cloneElement(a,g)}else if(mightBeFAIcon(a))try{a=React__default.createElement(FontAwesomeIcon,{icon:a,onClick:this._decrementValue,className:classnames(h)})}catch(e){}if(a.constructor===String&&(a=React__default.createElement("span",{className:classnames(h)},a)),React__default.isValidElement(o)){var v={className:classnames.apply(void 0,[o.props.className].concat(_toConsumableArray(b)))};o=React__default.cloneElement(o,v)}else if(mightBeFAIcon(o))try{o=React__default.createElement(FontAwesomeIcon,{icon:o,onClick:this._incrementValue,className:classnames(b)})}catch(e){}return o.constructor===String&&(o=React__default.createElement("span",{className:classnames(b)},o)),React__default.createElement("div",_extends({},i,{className:_JSXStyle.dynamic([["2780546048",[this.props.inputAlign]]])+" "+(null!=i.className&&i.className||classnames(_)||"")}),a,React__default.createElement("input",_extends({type:"number"},i,{ref:this.input,className:_JSXStyle.dynamic([["2780546048",[this.props.inputAlign]]])+" "+(null!=i.className&&i.className||classnames("form-control mx-2",r&&"text-".concat(r))||"")})),o,y,React__default.createElement(_JSXStyle,{styleId:"2780546048",css:["input.__jsx-style-dynamic-selector{text-align:".concat(this.props.inputAlign,";-webkit-flex:1;-ms-flex:1;flex:1;-moz-appearance:textfield;}"),"input.__jsx-style-dynamic-selector::-webkit-outer-spin-button,input.__jsx-style-dynamic-selector::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}"],dynamic:[this.props.inputAlign]}))}}]),t}();function getIconStyles(){return{styles:React__default.createElement(_JSXStyle,{styleId:"1158657347",css:[".minus-icon.jsx-1158657347,.plus-icon.jsx-1158657347{cursor:pointer;}",".minus-icon.disabled.jsx-1158657347,.plus-icon.disabled.jsx-1158657347,.disabled.jsx-1158657347 .minus-icon.jsx-1158657347,.disabled.jsx-1158657347 .plus-icon.jsx-1158657347{opacity:.65;cursor:default;}"]}),className:"jsx-1158657347"}}_defineProperty(NumericUpDown,"propTypes",{inputColor:propTypes.string,iconColor:propTypes.string,min:propTypes.number,max:propTypes.number,step:propTypes.number,minusIcon:iconDefinitionPropType.isRequired,plusIcon:iconDefinitionPropType.isRequired,disabled:propTypes.bool,value:propTypes.number,onChange:propTypes.func,inputAlign:propTypes.oneOf(["left","center","right"]),allowManualInputWithNaNBounds:propTypes.bool}),_defineProperty(NumericUpDown,"defaultProps",{minusIcon:FontAwesomeIcon&&faMinusCircle?faMinusCircle:"-",plusIcon:FontAwesomeIcon&&faPlusCircle?faPlusCircle:"+",min:0,max:1/0,step:1,inputAlign:"center",allowManualInputWithNaNBounds:!1}),module.exports=NumericUpDown;
